{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Responsive Admin &amp; Dashboard Template based on Bootstrap 5">
	<meta name="author" content="AdminKit">
	<meta name="keywords" content="adminkit, bootstrap, bootstrap 5, admin, dashboard, template, responsive, css, sass, html, theme, front-end, ui kit, web">

	<link rel="preconnect" href="{% static 'https://fonts.gstatic.com' %}">
	<link rel="shortcut icon" href="{% static 'img/logo.jpg' %}" />

	<link rel="canonical" href="{% static 'https://demo-basic.adminkit.io/' %}" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

	<title>ALMAQUA</title>

	<link href="{% static 'css/app.css' %}" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

	<!-- DataTables CSS Bootstrap 5 -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" />

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

<!-- DataTables Bootstrap 5 JS -->
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

	<style>
		
/* Perbaiki bullet list pagination yang muncul */
.dataTables_wrapper .dataTables_paginate {
  display: flex !important;
  justify-content: flex-end !important;
  padding: 0;
  margin: 0;
  list-style: none;
}

.dataTables_wrapper .dataTables_info {
  padding-top: 0.5rem;
}

/* Jika ada bullet atau tanda aneh di bawah pagination */
.dataTables_wrapper .dataTables_paginate ul {
  list-style: none !important;
  margin: 0 !important;
  padding: 0 !important;
}

table.dataTable {
  width: 100% !important;
}

.dataTables_wrapper .dataTables_paginate {
  margin-top: 1rem;
}

.dataTables_wrapper .dataTables_paginate .paginate_button {
  padding: 0.2rem 0.5rem;
  margin-left: 0.1rem;
  margin-right: 0.1rem;
  border-radius: 0.25rem;
}

.dataTables_wrapper .dataTables_paginate .paginate_button.current {
  background-color: #0d6efd;
  color: white !important;
}

.dataTables_wrapper .dataTables_paginate .paginate_button:hover {
  background-color: #0b5ed7;
  color: white !important;
}

/* Beri jarak antar alert jika ada lebih dari satu */
.alert + .alert {
  margin-top: 0.75rem;
}

/* Padding dan border-radius lebih smooth */
.alert {
  padding: 1rem 1.25rem;
  border-radius: 0.4rem;
  box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
  font-size: 1rem;
  font-weight: 500;
}

/* Animasi muncul dan hilang alert */
.alert.fade {
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}
.alert.show {
  opacity: 1;
}

/* Tombol close lebih besar dan rapih */
.alert .btn-close {
  opacity: 0.7;
  font-size: 1.1rem;
  margin-top: -0.2rem;
}
.alert .btn-close:hover {
  opacity: 1;
}


	</style>
	<!-- DataTables CSS Bootstrap 5 -->
<link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet" />


	
</head>

<body>
	<div class="wrapper">
		<nav id="sidebar" class="sidebar js-sidebar">
  <div class="sidebar-content js-simplebar">
    <a class="sidebar-brand" href="">
      <span class="align-middle">ALMAQUA</span>
    </a>

    <ul class="sidebar-nav">
      <li class="sidebar-header">
        Dashboard
      </li>

      <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'dashboard' %}">
          <i class="align-middle" data-feather="home"></i>
          <span class="align-middle">Dashboard</span>
        </a>
      </li>

      
<li class="sidebar-header">
        Data Master
      </li>
      <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'list_pelanggan' %}">
          <i class="align-middle" data-feather="users"></i>
          <span class="align-middle">Data Pelanggan</span>
        </a>
      </li>

      <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'list_pesanan' %}">
          <i class="align-middle" data-feather="shopping-cart"></i>
          <span class="align-middle">Data Pesanan</span>
        </a>
      </li>

	   <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'laporan_pesanan_bulanan' %}">
          <i class="align-middle" data-feather="archive"></i>

          <span class="align-middle">Laporan Pesanan</span>
        </a>
      </li>

	  <li class="sidebar-header">
        Seleksi Moora
      </li>

	  <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'list_kriteria' %}">
          <i class="align-middle" data-feather="list"></i>
          <span class="align-middle">Kriteria</span>
        </a>
      </li>

      <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'list_nilai' %}">
          <i class="align-middle" data-feather="bar-chart-2"></i>
          <span class="align-middle">Nilai Alternatif</span>
        </a>
      </li>

      <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'hasil_moora' %}">
          <i class="align-middle" data-feather="trending-up"></i>
          <span class="align-middle">Perhitungan MOORA</span>
        </a>
      </li>
	 

      <li class="sidebar-header">
        Pengaturan
      </li>

      <li class="sidebar-item">
        <a class="sidebar-link" href="{% url 'profile' %}">
          <i class="align-middle" data-feather="settings"></i>
          <span class="align-middle">Data Pengguna</span>
        </a>
      </li>

      <!-- Tambahan Logout -->
      <li class="sidebar-item">
        <a href="{% url 'logout' %}" class="btn btn-danger w-100 d-flex align-items-center justify-content-center">
          <i class="align-middle me-2" data-feather="log-out"></i>
          <span>Logout</span>
        </a>
      </li>
    </ul>
  </div>
</nav>



		<div class="main">
			<nav class="navbar navbar-expand navbar-light navbar-bg">
				<a class="sidebar-toggle js-sidebar-toggle">
          <i class="hamburger align-self-center"></i>
        </a>

				<div class="navbar-collapse collapse">
					<ul class="navbar-nav navbar-align">
  <li class="nav-item dropdown">
    <a class="nav-icon dropdown-toggle d-inline-block d-sm-none" href="#" data-bs-toggle="dropdown">
      <i class="align-middle" data-feather="settings"></i>
    </a>

    <a class="nav-link d-none d-sm-inline-block" href="#" data-bs-toggle="dropdown">
      <i class="bi bi-person-circle fs-4 me-1"></i>
      <span class="text-dark">{{ request.user.username }}</span>
      <span id="current-time" class="text-muted ms-3" style="font-weight: normal; font-size: 0.9rem;"></span>
    </a>
  </li>
</ul>

				</div>
			</nav>
<!-- Main content -->
<main class="content">
  <div class="container mt-3">

    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    {% endif %}

    {% block content %}
    <!-- konten lain -->
    {% endblock %}

  </div>
</main>


			

<footer class="footer">
  <div class="container-fluid">
    <div class="row text-muted justify-content-between align-items-center">
      <div class="col-auto">
        <p class="mb-0">
          Sistem Pendukung Keputusan berbasis <strong>MOORA</strong> &copy; 2025.
        </p>
      </div>
      <div class="col-auto">
        <p class="mb-0">
          Dibangun oleh <a href="https://github.com/dina" target="_blank" class="text-muted"><strong>Dina</strong></a>
        </p>
      </div>
    </div>
  </div>
</footer>



	<script src="{% static 'js/app.js' %}"></script>

	
	<script>
		document.addEventListener("DOMContentLoaded", function() {
			var date = new Date(Date.now() - 5 * 24 * 60 * 60 * 1000);
			var defaultDate = date.getUTCFullYear() + "-" + (date.getUTCMonth() + 1) + "-" + date.getUTCDate();
			document.getElementById("datetimepicker-dashboard").flatpickr({
				inline: true,
				prevArrow: "<span title=\"Previous month\">&laquo;</span>",
				nextArrow: "<span title=\"Next month\">&raquo;</span>",
				defaultDate: defaultDate
			});
		});
	</script>
	<script>
  function updateTime() {
    const now = new Date();
    // Format jam: HH:MM:SS
    const timeString = now.toLocaleTimeString('id-ID', { hour12: false });
    document.getElementById('current-time').textContent = timeString;
  }
  
  document.addEventListener('DOMContentLoaded', function() {
    updateTime(); // tampilkan langsung saat load
    setInterval(updateTime, 1000); // update tiap detik
  });
</script>
<!-- jQuery (DataTables butuh jQuery) -->
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
  ...
  <script>
	$.fn.dataTable.ext.errMode = 'none';

    $(document).ready(function () {
      $('#pelangganTable').DataTable({
        // opsi sesuai keinginan
      });
    });

	$(document).ready(function () {
      $('#nilaiTable').DataTable({
        // opsi sesuai keinginan
      });
    });

	$(document).ready(function () {
      $('#kriteriaTable').DataTable({
        // opsi sesuai keinginan
      });
    });

	$(document).ready(function () {
      $('#pesananTable').DataTable({
        // opsi sesuai keinginan
      });
    });
  </script>

  {% block extra_js %}
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>


{% endblock %}


</body>

</html>